# Module 4 - Clip 3 - First KQL Query

In clip 3 Iâ€™ll run the first KQL query, explaining how a very basic query works, and showing some of the controls around running queries such as the time range.

**Start with the contents (main demo) of [04.03-Log-Analytics-Demo-First-KQL-Query.kql](04.03-Log-Analytics-Demo-First-KQL-Query.kql) already populated. In the notes below however we'll include each set of code as we come to it.**

First, let me mention that a comment in KQL begins with two slashes, as you see here. _highlight the line with the comment_

```python
// This is a comment
```

Now let's write our first KQL query, but before we do let's contrast it with a SQL query. For this example, we want to return all rows in the table Perf.

In SQL _highlight the sql command_ you would write SELECT * FROM Perf. This returns all rows and columns.

```python
// To get all rows from the Perf table in SQL, you'd need:
// SELECT * FROM Perf
```

Now lets see how we can do it in KQL, and it's simplicity itself. All we need is the table name. _highlight the table name_

```python
// In KQL, we can simply use:
Perf
```

We can run this in one of two ways. We can click on the Run button _point to it_ or press Shift+Enter _put shift enter keys on screen_. For this course I'll typically use the Shift+Enter method for running queries. So let's run our query. Note that the current query is highlighted in gray, to indicate which query in our script will be executed.


// A bit more complex query
// SELECT TOP 100 * FROM Perf
// WHERE CounterName = "Free Megabytes"
// ORDER BY CounterValue

Perf |
where CounterName == "Free Megabytes" |
top 100 by CounterValue

// Syntax is flexible - Pipe can be at the start
Perf 
| where CounterName == "Free Megabytes" 
| top 100 by CounterValue

// It can also all be on a single line
Perf | where CounterName == "Free Megabytes" | top 100 by CounterValue

// You do have intellisense! (Type out the above query to demonstrate)



// KQL is case senstive, unlike SQL
// Perf is not the same as perf or PERF
// Likewise with column names
// CounterName, not countername or COUNTERNAME

// Commands are also case senstive
// top works, TOP or Top does not



## Formatting Guide

The notes in this file are used during the recording of the course. It is not meant to be a word for word script, but rather the talking points used for recording.

Notes in plain text are to be used during the recording.

**Notes in bold are instructions during recording, not to be spoken.**

_Notes in italic will be used during the video editing processing._

KQL doesn't have a predefined code setting in Markdown. Use python as the closest match for multi-line code samples.

## Author Information

### Author

Robert C. Cain | [@ArcaneCode](https://twitter.com/arcanecode) | arcanecode@gmail.com

### Websites

About Me: [http://arcanecode.me](http://arcanecode.me)

Blog: [http://arcanecode.com](http://arcanecode.com)

Github: [http://arcanerepo.com](http://arcanerepo.com)

LinkedIn: [http://arcanecode.in](http://arcanecode.in)

### Copyright Notice

This document is Copyright (c) 2022 Robert C. Cain. All rights reserved.

The code samples herein is for demonstration purposes. No warranty or guarantee is implied or expressly granted.

This document may not be reproduced in whole or in part without the express written consent of the author and/or Pluralsight. Information within can be used within your own projects.

